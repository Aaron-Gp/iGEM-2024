# Drylab

今年BIT队的核心目标是基于大肠杆菌生物传感器，实现一个主动式水体内分泌干扰素（EDCs）检测系统。传统的检测方法（如色谱法、免疫测定法等）需要采样、前处理、实验室送检等繁琐的流程，且需要配合以昂贵的实验室设备（如色谱仪、酶标仪等）以及专业的实验人员。这种方法检测耗时较长、所需成本较高。

随着EDCs不断威胁着水体环境和居民用水质量，实现EDCs的便携检测和快速响应十分重要。为了满足这一需求，我们目标开发一个价格便宜、高度集成、小巧便携且用户友好的硬件平台，能够结合智能手机软件实现工程细菌培养、标志物检测分析的自动化操作。

（技术路线图-需要建模和生物传感器的部分，暂时画不了）

为了使硬件设备真正满足系统搭建的需要，我们采用了典型的工程和项目设计思路，即：需求分析、方案提出、可行性验证、意见反馈、改进系统、完成目标的设计思路。这个流程是一个迭代的过程，在多次循环之后，最终满足所有的需求和目标。

![img](file:///C:\Users\李冠龙\AppData\Local\Temp\ksohtml22032\wps1.jpg) 

*图* *1* *硬件设计流程图*

## 需求分析

为了确保标志物检测的稳定性与准确性，需要实现检测过程的标准化和使用高灵敏度的检测单元。

检测过程的标准化，要求在工程菌复苏和标志物检测期间提供持续稳定的化学和物理环境，化学环境标准化主要由实验步骤的量化操作确保（包括样本量和工程菌数量的控制、培养基的化学成分和浓度的控制），物理环境标准化主要由光照、温度湿度的稳定性确保。其中光照由于反应容器的密闭不透光已实现，而密闭环境中的湿度主要由温度决定。检测过程的标准化主要是要实现硬件设备的恒温控制。

由于检测样品的内分泌干扰素的标志物浓度很低，再加上设备的便携要求，因此需要的检测方法在高灵敏度的同时可以被集成到小型设备中，常见的化学检测方法不能满足需求，因此采用更灵敏、便携、高效的检测方法对整个系统的实现至关重要。

为了使智能手机软件实现对硬件设备的自动化控制并实现检测结果的可视化，硬件设备的搭建需要考虑软硬件数据的传输。

 

## 方案提出

![img](file:///C:\Users\李冠龙\AppData\Local\Temp\ksohtml22032\wps2.jpg) 

*图* *2**第一版设计方案*

 

![img](file:///C:\Users\李冠龙\AppData\Local\Temp\ksohtml22032\wps3.jpg) 

*图3* *电路图*

 

在恒温控制系统的搭建上，我们采用NTC热敏电阻作为温度传感器，使用金属陶瓷加热器和风扇作为热源与冷源。为了实现温度检测和控制的PID调控，使用TB6612FNG直流电机驱动输出的PWM波调控风扇和加热片的功率以保持温度动态稳定。

在检测方案的选择上，我们综合考量了检测精度和设备的便携性，最终选择了荧光检测方法。光谱传感器采用了小型的AS7341[1]，为保证荧光的一致产生，我们重新设计并优化了光路。标记的荧光被蓝色LED激发后，光谱传感器可以实时收集、记录实时荧光信号，使用蓝牙模块传输到手机软件即可将检测结果可视化。

通讯模块我们采用了hc05蓝牙模块连接硬件系统和手机软件，实时检测硬件设备运行状态并反馈检测结果。

在初版的方案中，我们使用了stm32芯片作为主控，连接恒温控制系统、荧光检测系统、蓝牙传输系统，通过编写程序指令来保证设备的正常运行。

 

 

| ![img](file:///C:\Users\李冠龙\AppData\Local\Temp\ksohtml22032\wps4.jpg) *图* 5*：第一版实现方案* | ![img](file:///C:\Users\李冠龙\AppData\Local\Temp\ksohtml22032\wps5.jpg) *图* 6*：第一版设备模型图* |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
|                                                              |                                                              |

 

## 可行性验证

### 温度稳定性验证

为了检验温度控制系统的恒温效果，我们设计了温度稳定性测试实验。当温度第一次达到37°C 时，每 10 秒记录一次温度，直到再过 60 秒。从图6的结果可以得出：平均温度与设定温度的绝对差值不大于1.1°C，且温度曲线始终在37°C上下浮动，这说明温度控制系统可以实现温度的动态调节，能够将温度控制在37°C附近，但是这样温控方法产生的温度波动比较大。

| ![img](file:///C:\Users\李冠龙\AppData\Local\Temp\ksohtml22032\wps6.jpg) | ![img](file:///C:\Users\李冠龙\AppData\Local\Temp\ksohtml22032\wps7.jpg) *图* 7 *初版方案温度波动测量结果* |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
|                                                              |                                                              |

### 梯度荧光素钠荧光检测验证

AS7341光谱传感器通过集成不同波段的滤色片，实现了检测特定波段光强（Lux）的功能，其可以等效于检测对应的荧光强度。为了验证该传感器能否正确地反映出样品的信号，我们设计了一个实验来探究梯度荧光素钠的浓度梯度与Lux的关系。我们在2mL离心管中制备了一系列不同梯度的荧光素钠溶液用AS7341传感器进行信号采集。。图8的结果显示：测试的Lux值与荧光素钠浓度梯度具有较好的线性相关性，说明我们的荧光检测模块可以很好地反应出物质的浓度，可以进行标志物检测。

![img](file:///C:\Users\李冠龙\AppData\Local\Temp\ksohtml22032\wps8.jpg) 

*图* *8* *初版方案荧光验证拟合曲线*

 

以上可行性验证说明了第一版方案设计的温控和荧光检测系统均能满足设计需要，具有具有可行性。

## 反馈与测试

我们将设计的硬件方案与生物组、美工组以及专业的老师们进行了深入的沟通探讨，得到了非常有用的反馈，这些意见反馈有助于我们进一步改进。

1.在主控芯片方面，芯片由于需要外部无线通信模块来实现蓝牙功能，这增加了设计的复杂性。

2.在温控系统方面，使用TB6612FNG驱动温度控制的方案存在着发热严重且难以集成化的问题。

3.在检测系统方面，光谱传感器联合光路的方案激发光源容易产生波动，且光路调校难度大易受环境因素干扰。

4.在生物需求方面，当前的方案只能进行单一的检测，频繁地更换反应腔会影响检测环境的稳定性，最终引起结果的不稳定。

针对以上反馈存在的问题与老师的建议，我们在原有方案的基础上重新进行了改进。

![img](file:///C:\Users\李冠龙\AppData\Local\Temp\ksohtml22032\wps9.jpg) 

*图* *9* *改进后的设计方案图*

 

***\*首先，主控芯片我们使用Arduino\**** ***\*Nano\**** ***\*ESP32芯片代替了STM32F103C8T6，ESP32具有内置的蓝牙通信能力和丰富的外围接口，其支持CMake和Ninja构建系统，这将大大简化设计难度，同时其在全球范围内被广泛采用的特点也将降低系统的复现难度，更具有通用性，为后续想做类似设计设备的团队打下基础；在温控和检测方面，我们使用TCM1040温控模块和礼德科技的FM-4A数字型荧光检测模块分别代替了原有的方案，相比于原有的方案，它们更具有集成化的特点，进一步提高了平台的准确性和稳定性。\****

![img](file:///C:\Users\李冠龙\AppData\Local\Temp\ksohtml22032\wps10.jpg) 

*图* *10* *改进后的设计电路图*

***\*为了实现高通量检测的需求，我们提出了两套解决方案，分别是微流控芯片旋转检测平台和线性滑轨检测平台。\**** ***\*经过建模分析和可行性分析，最终我们选择了线性滑轨检测平台，并为之设计了全新的保温方案。\****

![img](file:///C:\Users\李冠龙\AppData\Local\Temp\ksohtml22032\wps11.jpg) 

*图* *11* *新版设备的实现方案*

 

 

 

 

(新版设备的模型图-需要标注)

 

### 成品与测试

最终的系统主要分为主要分为加样区和检测区。在实际使用过程中，工程菌以冻干形式储存。将冻干和多个待测样本分别混合在不同的反应腔内培养，等待检测。在接收到软件的运行指令之后，设备将快速加热加样区的铝合金恒温槽并保持恒温，并通过蓝牙将实时温度和系统的工作状态反馈给手机软件的界面。与此同时，检测区的荧光检测模块开始沿滑轨依次检测各个反应腔的荧光信号并实时反馈给软件的可视化界面。当工程菌生长到一定程度时，荧光信号的强度将反应出内分泌干扰素效应的程度。

（成品演示gif）

（实物操作gif）

#### **功能测试**

##### 恒温控制能力检测

我们对最新版的系统再次进行了温度稳定性测试实验。从图11的结果可以得出：平均温度与设定温度的绝对差值小于0.3°C，改进后的温控系统的稳定性进一步提高。可以很好地满足实际需要。

| ![img](file:///C:\Users\李冠龙\AppData\Local\Temp\ksohtml22032\wps12.jpg) | ![img](file:///C:\Users\李冠龙\AppData\Local\Temp\ksohtml22032\wps13.jpg) *图* 12 *温度波动测量结果* |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
|                                                              |                                                              |

 

##### 梯度荧光素钠荧光检测验证

对最新版设备的荧光验证实验显示：测试的RFU值与荧光素钠浓度梯度具有较好的线性关系，说明新的荧光检测模块可以较好地反应出物质的浓度，满足使用要求。

![img](file:///C:\Users\李冠龙\AppData\Local\Temp\ksohtml22032\wps14.jpg) 

*图* *13 荧光验证实验拟合曲线*

## Android软件

针对已经设计好的软件，我们进行了功能测试。首先将软件导入到安卓手机上，连接蓝牙模块检测是否正常连接。打开软件检查UI界面设计是否完整，接着接收来自模块的信号并测试绘图功能是否能够正常进行，根据结果对系统进行优化。

### 数据接收验证

通过手机端通过蓝牙向MCU传输用于启动的信号，由图可以看到硬件成功启动，并返回指定标识。

### 数据绘图验证

MCU在运行期间通过蓝牙发送数据给手机端，手机端通过对数据的解析，绘制出时间-温度、时间-荧光强度的图像。由图示可以看到程序成功实现了功能。

### 改进

由于硬件第二版设计中增添了线性轨道用于荧光检测的移动，故荧光检测所得的信号也产生变化，故要求程序实现区分不同通道的荧光强度脉冲峰区，并在不同分区中取得各自的最大值（理论上即管底荧光强度）用于绘图。

#### **数组分割与绘图验证**

我们可以看见MCU返还的一组多脉冲峰的数据，软件成功将其分割并形成多个不同的数组，并于各数组取得最大值用于绘图。

## 总结

最终的成品及其测试说明，我们开发的这个主动式水体内分泌干扰素检测系统具有小巧、便携、用户友好等特点。在实时检测场景中能够很好地控制培养条件的标准化，实现快速筛选和评估污水中的内分泌干扰素，显著减少对实验室设备和专业人员的依赖。此外多个反应腔室以及荧光检测模块的滑轨运动实现了系统的高通量操作，可以同时检测多个样本，从而更高效地进行样本检测。工程细菌以冻干粉末形式储存，便于使用。

我们在设计硬件方案时使用了工程和项目设计思路，充分考虑了目标需求和用户反馈，指导老师李晓琼老师建议我们使用esp32芯片代替stm32芯片，将有助于提高设计的易读性和通用性。在测试和实际使用过程中，我们征集了操作人员的体验和建议，从产品使用的方向，我们使用高通量反应腔代替了原有的单一的的反应腔，让检测过程更加高效，方便了用户进行多个样本的检测。

为了便于用户使用，我们在App中添加了详细的用户说明，未来将录制演示视频，易于用户上手。与此同时，我们已经整理了详细的系统设计蓝图和建模文件，以及详细的部件选择和制作方法。您可以在贡献页面上联系我们以获取相关文件，从而协助其他参与者复制我们的设备。我们的主控以及主要的系统采用了常见的集成单元，其他部件使用工业加工以及3D打印工艺制作而成，易于复制供其他团队参考和实施。

参考文献

[1] Wang Y, Chen H, Lin K, et al. Ultrasensitive single-step CRISPR detection of monkeypox virus in minutes with a vest-pocket diagnostic device[j]. Nature Communications, 2024, 15(1):3279.